///////////////////////////////////////////////////////////////////////////////
// ADDINS
///////////////////////////////////////////////////////////////////////////////
#addin Cake.Slack

///////////////////////////////////////////////////////////////////////////////
// Environment Variables
///////////////////////////////////////////////////////////////////////////////

var slackToken = EnvironmentVariable("SLACK_TOKEN");
var slackChannel = EnvironmentVariable("SLACK_CHANNEL");
var slackWebHookUrl = EnvironmentVariable("SLACK_WEBHOOK_URL");

///////////////////////////////////////////////////////////////////////////////
// TASK DEFINITIONS
///////////////////////////////////////////////////////////////////////////////

Task("Slack-Room-Notification")
    .WithCriteria(!string.IsNullOrWhiteSpace(slackToken) && !string.IsNullOrWhiteSpace(slackChannel))
    .WithCriteria(() => !parameters.IsLocalBuild)
    .Does(() =>
{

});

Task("Slack-WebHook-Notification")
    .WithCriteria(!string.IsNullOrWhiteSpace(slackWebHookUrl))
    .WithCriteria(() => !parameters.IsLocalBuild)
    .Does(() =>
{

});